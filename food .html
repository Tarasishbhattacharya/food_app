<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet">
      <link rel="stylesheet" href="./style2/food.css">
</head>
<body>
    <div id="container"></div> 
    <h2 id="count"></h2> 
    <div id="data"></div> 
</body>
</html>
<script type="module">
    let cart=JSON.parse(localStorage.getItem("food_cart"))||[];
    import {getdata,append,totalcart,add} from './api/api.js'
    import nav from './component2/nav.js'
    let cont=document.querySelector("#container");
    cont.innerHTML=nav();
    let count=document.querySelector("#count");
    let user_name=JSON.parse(localStorage.getItem("user_name"));
    let welcome=document.querySelector("#welcome_user");
    welcome.textContent="Welcome"+" "+ user_name.name;
    let data=document.querySelector("#data");
    document.querySelector("#search").addEventListener("click",()=>{
        let value=document.querySelector("#food_name").value;
        let response=getdata(`https://www.themealdb.com/api/json/v1/1/search.php?s=${value}`);
    response.then((res)=>{
        append(res,data);
    }).catch((err)=>{
        console.log(err);
    })
    })
    export {cart,count};
</script>